{
  "Serilog": {
    "Using": ["Serilog.Sinks.Console"],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft.AspNetCore": "Warning",
        "Microsoft.EntityFrameworkCore": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "formatter": "Serilog.Formatting.Compact.CompactJsonFormatter, Serilog.Formatting.Compact"
        }
      }
    ],
    "Enrich": ["FromLogContext", "WithMachineName", "WithThreadId"],
    "PiiRedaction": {
      "Enabled": true,
      "RedactEmails": true,
      "RedactPhones": true,
      "RedactCreditCards": true,
      "RedactSsn": true,
      "RedactIpAddresses": false,
      "CustomPatterns": []
    }
  },
  "OpenTelemetry": {
    "ServiceName": "rithm-template-service",
    "ServiceVersion": "1.0.0",
    "OtlpExporterEndpoint": "http://localhost:4317",
    "Enabled": true
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultContext": "Host=localhost;Database=rithmtemplate_db;Username=sa;Password=Adminroot01",
    "ValkeyConnection": "localhost:6379"
  },
  "Jwt": {
    "Key": "your-super-secret-key-at-least-32-characters-long",
    "Issuer": "RithmTemplate",
    "Audience": "RithmTemplateUsers",
    "ExpirationMinutes": 60
  },
  "SignalR": {
    "AlertServiceUrl": "http://localhost:5100/hubs/alerts"
  },
  "ServiceRouter": {
    "UserServiceUrl": "http://localhost:5000",
    "AlertServiceUrl": "http://localhost:5100",
    "StationApiUrl": "http://localhost:5200"
  },
  "PolicyEngine": {
    "ServiceUrl": "http://localhost:5300",
    "CacheTtlSeconds": 60,
    "TimeoutSeconds": 5,
    "Enabled": true,
    "Retry": {
      "MaxRetries": 3,
      "InitialDelayMs": 100,
      "MaxDelayMs": 2000
    }
  },
  "AuditAuthority": {
    "ServiceUrl": "http://localhost:5400",
    "TimeoutSeconds": 5,
    "Enabled": true,
    "FailOnAuditError": true,
    "Retry": {
      "MaxRetries": 3,
      "InitialDelayMs": 100,
      "MaxDelayMs": 2000
    }
  },
  "DistributedState": {
    "OperationContextTtlHours": 24,
    "OperationResultTtlHours": 24,
    "OperationLockTtlSeconds": 30,
    "HeartbeatIntervalSeconds": 10,
    "OrphanThresholdMinutes": 5
  },
  "Idempotency": {
    "CacheTtlHours": 24,
    "LockTtlSeconds": 30,
    "MaxKeyLength": 255,
    "MaxResponseSizeMB": 5
  },
  "InfraSoT": {
    "ServiceUrl": "http://localhost:5500",
    "AppId": "rithm-template-service",
    "Environment": "development",
    "InstanceId": "instance-1"
  },
  "HealthChecks": {
    "AnonymizeInProduction": true,
    "ManagementNetworks": [
      "10.0.0.0/8",
      "172.16.0.0/12",
      "192.168.0.0/16",
      "127.0.0.1/8"
    ]
  },
  "RithmModules": {
    "Core": {
      "Tenancy": {
        "Enabled": true,
        "CanDisable": false,
        "Category": "Foundation",
        "Description": "Multi-tenant context management - REQUIRED for all apps",
        "Metadata": {
          "ProjectPath": "Rithm.Platform.Tenancy",
          "RequiredBy": ["All modules"]
        }
      },
      "Observability": {
        "Enabled": true,
        "CanDisable": false,
        "Category": "Foundation",
        "Description": "OpenTelemetry + Serilog - REQUIRED for production",
        "Metadata": {
          "ProjectPath": "Rithm.Platform.Observability",
          "Features": ["W3C Baggage", "Metrics", "Tracing"]
        }
      },
      "Valkey": {
        "Enabled": true,
        "CanDisable": false,
        "Category": "Foundation",
        "Description": "Distributed cache (Redis) - REQUIRED for idempotency and locks",
        "Metadata": {
          "ProjectPath": "Rithm.Infrastructure.Valkey",
          "RequiredBy": ["IdempotencyMiddleware", "BatchProcessing"]
        }
      },
      "BatchProcessing": {
        "Enabled": true,
        "CanDisable": true,
        "Category": "Optional",
        "DependsOn": ["Core.Valkey"],
        "Description": "Long-running operation tracking with orphan recovery"
      },
      "Hosting": {
        "Enabled": true,
        "CanDisable": false,
        "Category": "Foundation",
        "Description": "Health checks, graceful shutdown - REQUIRED"
      }
    },
    "Security": {
      "Certificates": {
        "Enabled": true,
        "CanDisable": false,
        "Category": "InterService",
        "Description": "Certificate providers (file, RithmAuthority) - REQUIRED for mTLS",
        "Metadata": {
          "ProjectPath": "Rithm.Platform.Security.Certificates",
          "Providers": ["File", "RithmAuthority"]
        }
      },
      "Authorization": {
        "Enabled": false,
        "CanDisable": true,
        "Category": "Security",
        "DependsOn": ["Core.Valkey"],
        "Description": "Policy Engine integration for fine-grained authz"
      },
      "Audit": {
        "Enabled": false,
        "CanDisable": true,
        "Category": "Security",
        "DependsOn": ["Core.Tenancy"],
        "Description": "Audit trail via AuditAuthority service"
      },
      "MutualTLS": {
        "Enabled": false,
        "CanDisable": true,
        "Category": "InterService",
        "DependsOn": ["Security.Certificates"],
        "Description": "mTLS for service-to-service authentication"
      }
    },
    "Integration": {
      "XoPublic": {
        "Enabled": true,
        "CanDisable": true,
        "Category": "Integration",
        "DependsOn": ["Core.Tenancy", "Core.Hosting"],
        "Description": "xo_public schema contract for IntegratorXO cross-service data integration"
      }
    },
    "Infrastructure": {
      "ServiceDiscovery": {
        "Enabled": false,
        "CanDisable": true,
        "Category": "Optional",
        "Description": "Service registry integration (Consul)"
      },
      "SignalR": {
        "Enabled": false,
        "CanDisable": true,
        "Category": "Optional",
        "DependsOn": ["Core.Tenancy"],
        "Description": "Real-time communication via SignalR hubs"
      },
      "ServiceRouter": {
        "Enabled": false,
        "CanDisable": true,
        "Category": "InterService",
        "DependsOn": ["Core.Tenancy"],
        "Description": "HTTP proxy for tenant-aware service routing"
      }
    }
  },
  "XoPublic": {
    "SchemaName": "xo_public",
    "SecurityUserName": "rithm_integrator_svc",
    "MetadataEndpointEnabled": true
  }
}
